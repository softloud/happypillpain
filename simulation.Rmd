---
title: "simulations"
date: "`r Sys.Date()`"
output: distill::distill_article
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)


```

```{r}
library(targets)
```


```{r output=FALSE}
# run simulation pipeline
withr::with_dir(here::here("simulation"), {
  tar_make()
  
  tar_load(check_wd)
})

```

```{r}
# check we're in the simulations directory
check_wd
```


Our goal is to create a dataset that imitates the kind of data we will encounter in the cleaned Covidence extract. The cleaning is such a substantial job, I think it useful to simulate a manageable dataset to play around with model subgroups and visualisations. 

Given the number of studies involved, and the number of treatments, it's likely we will need to create several customaised visualisations and summaries. 

Off the top of my head, we have

- time points: follow-ups short and long, post-intervention, 
- comparisons: antidepressant vs placebo, etc.
- `class` of drug
- chronic pain `condition`
- outcome

> ugh sort out type and class, what does the protocol say? 


```{r}




```






