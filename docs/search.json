{
  "articles": [
    {
      "path": "about.html",
      "title": "access",
      "description": "for researchers' internal use",
      "author": [],
      "contents": "\nThis site is intended for internal use in team meetings.\nInstructions for the team to access the analysis. Don’t hesitate to ask Charles for assistance.\nraw data\nHollie and I haven’t posted the raw data yet; email Charles to request access to current raw data.\nrstudio users\nYou can access past and present analyses, visualisations, datasets, etc. using a combination of renv:: and targets::.\nHere are the instructions.\nget the analysis\nTwo options: easy and hard. Alas, there is no in between.\nEasy is fine for one-time investigation. However code contributions (may well be unlikely) or frequent inspection (Hollie might like this) may be facillitated by the hard option.\nEasy: download for one-time inspection by clicking the green code button and downloading zip.\nHard: The [usethis:: pull request method](https://usethis.r-lib.org/articles/articles/pr-functions.html. Note that this assumes RStudio has been configured for interfacing with GitHub; an annoying step, expect it to take a couple of hours.\nget the data\nFor everyone’s peace of mind, we’re not pushing the data to an open source repository until publication.\nFor now, Charles will email you a directory data/ which you should unzip and copy into happypillpain/. So that it now exists as the directory happypillpain/data/.\nget the tools\nWe’ll install the renv:: package that will match up the correct version of all the packages.\n\n\n# install renv\ninstall.packages(\"renv\")\n\n# update packages\nrenv::restore()\n\n\n\ninspect the analysis\nWe use the package targets:: to inspect the analysis.\n\n\nlibrary(targets)\n\n\n\n\n\n# see all the objects produced in the analysis workflow and how they feed into each other\ntar_glimpse()\n\n\n\n{\"x\":{\"nodes\":{\"name\":[\"raw_adverse\",\"wo_scale_unmatched\",\"model_key\",\"raw_mood\",\"model_metapar\",\"scales_raw\",\"raw_pain\",\"outcomes\",\"wo_wide\",\"wo_study\",\"wo_long\",\"study_na_inspect\",\"wo_scale_multiple_matches\",\"obs_ad_post_int\",\"metapar_original_study\",\"export_condition\",\"scales\",\"assert_unmatched_studies_unique\",\"wo_scale_matches\",\"study_key\",\"variables\",\"study_lab_metapar\",\"variables_tab\",\"metapar\",\"wo_time_unmatched\",\"unmatched_studies_obs\",\"obs_post_int\",\"wo_time\",\"raw_covidence_export\",\"wo_scale\",\"classifiers\",\"scale_match_test\",\"raw_outcome_dat\",\"drug_names_unlabelled\",\"class_check_gs\",\"study_key_assert_na\",\"obs\",\"metapar_consult\"],\"type\":[\"stem\",\"stem\",\"stem\",\"stem\",\"stem\",\"stem\",\"stem\",\"stem\",\"stem\",\"pattern\",\"pattern\",\"stem\",\"stem\",\"stem\",\"stem\",\"stem\",\"stem\",\"stem\",\"stem\",\"stem\",\"stem\",\"stem\",\"stem\",\"stem\",\"stem\",\"stem\",\"stem\",\"stem\",\"stem\",\"stem\",\"stem\",\"stem\",\"stem\",\"stem\",\"stem\",\"stem\",\"stem\",\"stem\"],\"status\":[\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\"],\"seconds\":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],\"bytes\":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],\"branches\":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],\"id\":[\"raw_adverse\",\"wo_scale_unmatched\",\"model_key\",\"raw_mood\",\"model_metapar\",\"scales_raw\",\"raw_pain\",\"outcomes\",\"wo_wide\",\"wo_study\",\"wo_long\",\"study_na_inspect\",\"wo_scale_multiple_matches\",\"obs_ad_post_int\",\"metapar_original_study\",\"export_condition\",\"scales\",\"assert_unmatched_studies_unique\",\"wo_scale_matches\",\"study_key\",\"variables\",\"study_lab_metapar\",\"variables_tab\",\"metapar\",\"wo_time_unmatched\",\"unmatched_studies_obs\",\"obs_post_int\",\"wo_time\",\"raw_covidence_export\",\"wo_scale\",\"classifiers\",\"scale_match_test\",\"raw_outcome_dat\",\"drug_names_unlabelled\",\"class_check_gs\",\"study_key_assert_na\",\"obs\",\"metapar_consult\"],\"label\":[\"raw_adverse\",\"wo_scale_unmatched\",\"model_key\",\"raw_mood\",\"model_metapar\",\"scales_raw\",\"raw_pain\",\"outcomes\",\"wo_wide\",\"wo_study\",\"wo_long\",\"study_na_inspect\",\"wo_scale_multiple_matches\",\"obs_ad_post_int\",\"metapar_original_study\",\"export_condition\",\"scales\",\"assert_unmatched_studies_unique\",\"wo_scale_matches\",\"study_key\",\"variables\",\"study_lab_metapar\",\"variables_tab\",\"metapar\",\"wo_time_unmatched\",\"unmatched_studies_obs\",\"obs_post_int\",\"wo_time\",\"raw_covidence_export\",\"wo_scale\",\"classifiers\",\"scale_match_test\",\"raw_outcome_dat\",\"drug_names_unlabelled\",\"class_check_gs\",\"study_key_assert_na\",\"obs\",\"metapar_consult\"],\"level\":[1,11,1,1,6,1,1,2,8,6,7,6,11,14,3,3,2,8,10,5,1,4,2,5,10,7,13,9,1,11,1,10,2,6,6,6,12,2],\"color\":[\"#94a4ac\",\"#94a4ac\",\"#94a4ac\",\"#94a4ac\",\"#94a4ac\",\"#94a4ac\",\"#94a4ac\",\"#94a4ac\",\"#94a4ac\",\"#94a4ac\",\"#94a4ac\",\"#94a4ac\",\"#94a4ac\",\"#94a4ac\",\"#94a4ac\",\"#94a4ac\",\"#94a4ac\",\"#94a4ac\",\"#94a4ac\",\"#94a4ac\",\"#94a4ac\",\"#94a4ac\",\"#94a4ac\",\"#94a4ac\",\"#94a4ac\",\"#94a4ac\",\"#94a4ac\",\"#94a4ac\",\"#94a4ac\",\"#94a4ac\",\"#94a4ac\",\"#94a4ac\",\"#94a4ac\",\"#94a4ac\",\"#94a4ac\",\"#94a4ac\",\"#94a4ac\",\"#94a4ac\"],\"shape\":[\"dot\",\"dot\",\"dot\",\"dot\",\"dot\",\"dot\",\"dot\",\"dot\",\"dot\",\"square\",\"square\",\"dot\",\"dot\",\"dot\",\"dot\",\"dot\",\"dot\",\"dot\",\"dot\",\"dot\",\"dot\",\"dot\",\"dot\",\"dot\",\"dot\",\"dot\",\"dot\",\"dot\",\"dot\",\"dot\",\"dot\",\"dot\",\"dot\",\"dot\",\"dot\",\"dot\",\"dot\",\"dot\"]},\"edges\":{\"from\":[\"wo_scale_matches\",\"metapar\",\"outcomes\",\"model_key\",\"wo_long\",\"outcomes\",\"raw_outcome_dat\",\"study_key\",\"wo_study\",\"study_key\",\"wo_scale_matches\",\"metapar\",\"obs_post_int\",\"classifiers\",\"metapar_consult\",\"metapar_consult\",\"scales_raw\",\"unmatched_studies_obs\",\"scales\",\"wo_time\",\"study_lab_metapar\",\"metapar_original_study\",\"variables\",\"study_lab_metapar\",\"wo_time\",\"metapar_original_study\",\"wo_study\",\"obs\",\"wo_wide\",\"wo_scale_matches\",\"scales\",\"wo_time\",\"raw_adverse\",\"raw_mood\",\"raw_pain\",\"metapar\",\"metapar\",\"study_key\",\"wo_scale\",\"raw_covidence_export\"],\"to\":[\"wo_scale_unmatched\",\"model_metapar\",\"model_metapar\",\"outcomes\",\"wo_wide\",\"wo_study\",\"wo_study\",\"wo_study\",\"wo_long\",\"study_na_inspect\",\"wo_scale_multiple_matches\",\"obs_ad_post_int\",\"obs_ad_post_int\",\"metapar_original_study\",\"metapar_original_study\",\"export_condition\",\"scales\",\"assert_unmatched_studies_unique\",\"wo_scale_matches\",\"wo_scale_matches\",\"study_key\",\"study_lab_metapar\",\"variables_tab\",\"metapar\",\"wo_time_unmatched\",\"unmatched_studies_obs\",\"unmatched_studies_obs\",\"obs_post_int\",\"wo_time\",\"wo_scale\",\"scale_match_test\",\"scale_match_test\",\"raw_outcome_dat\",\"raw_outcome_dat\",\"raw_outcome_dat\",\"drug_names_unlabelled\",\"class_check_gs\",\"study_key_assert_na\",\"obs\",\"metapar_consult\"],\"arrows\":[\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\"]},\"nodesToDataframe\":true,\"edgesToDataframe\":true,\"options\":{\"width\":\"100%\",\"height\":\"100%\",\"nodes\":{\"shape\":\"dot\",\"physics\":false},\"manipulation\":{\"enabled\":false},\"edges\":{\"smooth\":{\"type\":\"cubicBezier\",\"forceDirection\":\"horizontal\"}},\"physics\":{\"stabilization\":false},\"layout\":{\"hierarchical\":{\"enabled\":true,\"direction\":\"LR\"}}},\"groups\":null,\"width\":null,\"height\":null,\"idselection\":{\"enabled\":false,\"style\":\"width: 150px; height: 26px\",\"useLabels\":true,\"main\":\"Select by id\"},\"byselection\":{\"enabled\":false,\"style\":\"width: 150px; height: 26px\",\"multiple\":false,\"hideColor\":\"rgba(200,200,200,0.5)\",\"highlight\":false},\"main\":{\"text\":\"\",\"style\":\"font-family:Georgia, Times New Roman, Times, serif;font-weight:bold;font-size:20px;text-align:center;\"},\"submain\":null,\"footer\":null,\"background\":\"rgba(0, 0, 0, 0)\",\"highlight\":{\"enabled\":false,\"hoverNearest\":false,\"degree\":1,\"algorithm\":\"all\",\"hideColor\":\"rgba(200,200,200,0.5)\",\"labelOnly\":true},\"collapse\":{\"enabled\":true,\"fit\":false,\"resetHighlight\":true,\"clusterOptions\":null,\"keepCoord\":true,\"labelSuffix\":\"(cluster)\"},\"legend\":{\"width\":0.2,\"useGroups\":false,\"position\":\"right\",\"ncol\":1,\"stepX\":100,\"stepY\":100,\"zoom\":true,\"nodes\":{\"label\":[\"Stem\",\"Pattern\"],\"shape\":[\"dot\",\"square\"],\"color\":[\"#899DA4\",\"#899DA4\"]},\"nodesToDataframe\":true}},\"evals\":[],\"jsHooks\":[]}\n# see what's working and not working in the piepline\ntar_visnetwork()\n\n\n\n{\"x\":{\"nodes\":{\"name\":[\"assert_unmatched_studies_unique\",\"class_check_gs\",\"classifiers\",\"drug_names_unlabelled\",\"export_condition\",\"metapar\",\"metapar_consult\",\"metapar_original_study\",\"model_key\",\"model_metapar\",\"outcomes\",\"raw_adverse\",\"raw_covidence_export\",\"raw_mood\",\"raw_outcome_dat\",\"raw_pain\",\"scales\",\"scales_raw\",\"study_key\",\"study_key_assert_na\",\"study_lab_metapar\",\"study_na_inspect\",\"unmatched_studies_obs\",\"variables\",\"variables_tab\",\"wo_long\",\"wo_study\",\"wo_wide\",\"wo_scale\",\"wo_scale_matches\",\"scale_match_test\",\"wo_scale_unmatched\",\"obs_post_int\",\"wo_time\",\"obs\",\"obs_ad_post_int\",\"wo_scale_multiple_matches\",\"wo_time_unmatched\",\"clean_colvals\",\"hpp_tab\",\"installed_pkg\",\"lotr_study_hash\",\"scale_match\",\"study_id\"],\"type\":[\"stem\",\"stem\",\"stem\",\"stem\",\"stem\",\"stem\",\"stem\",\"stem\",\"stem\",\"stem\",\"stem\",\"stem\",\"stem\",\"stem\",\"stem\",\"stem\",\"stem\",\"stem\",\"stem\",\"stem\",\"stem\",\"stem\",\"stem\",\"stem\",\"stem\",\"pattern\",\"pattern\",\"stem\",\"stem\",\"stem\",\"stem\",\"stem\",\"stem\",\"stem\",\"stem\",\"stem\",\"stem\",\"stem\",\"function\",\"function\",\"object\",\"function\",\"function\",\"function\"],\"status\":[\"errored\",\"uptodate\",\"uptodate\",\"uptodate\",\"uptodate\",\"uptodate\",\"uptodate\",\"uptodate\",\"uptodate\",\"uptodate\",\"uptodate\",\"uptodate\",\"uptodate\",\"uptodate\",\"uptodate\",\"uptodate\",\"uptodate\",\"uptodate\",\"uptodate\",\"uptodate\",\"uptodate\",\"uptodate\",\"uptodate\",\"uptodate\",\"uptodate\",\"uptodate\",\"uptodate\",\"outdated\",\"outdated\",\"outdated\",\"outdated\",\"outdated\",\"outdated\",\"outdated\",\"outdated\",\"outdated\",\"outdated\",\"outdated\",\"uptodate\",\"uptodate\",\"uptodate\",\"uptodate\",\"uptodate\",\"uptodate\"],\"seconds\":[0.01,0.006,0.072,0.002,0.012,0.003,4.157,0.011,0.02,1.363,0.002,0.073,1.206,0.895,0.075,1.998,0.083,0.059,0.006,0.008,0.122,0.003,0.056,0.028,0.122,1.161,2.397,0.056,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],\"bytes\":[0,5431,2817,1190,2241,13273,16262,15621,187,28711,81,16031,556161,68883,180221,93023,3469,1921,7430,48,21641,173,553,1124,4909,50504,134367,0,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],\"branches\":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,3,3,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],\"id\":[\"assert_unmatched_studies_unique\",\"class_check_gs\",\"classifiers\",\"drug_names_unlabelled\",\"export_condition\",\"metapar\",\"metapar_consult\",\"metapar_original_study\",\"model_key\",\"model_metapar\",\"outcomes\",\"raw_adverse\",\"raw_covidence_export\",\"raw_mood\",\"raw_outcome_dat\",\"raw_pain\",\"scales\",\"scales_raw\",\"study_key\",\"study_key_assert_na\",\"study_lab_metapar\",\"study_na_inspect\",\"unmatched_studies_obs\",\"variables\",\"variables_tab\",\"wo_long\",\"wo_study\",\"wo_wide\",\"wo_scale\",\"wo_scale_matches\",\"scale_match_test\",\"wo_scale_unmatched\",\"obs_post_int\",\"wo_time\",\"obs\",\"obs_ad_post_int\",\"wo_scale_multiple_matches\",\"wo_time_unmatched\",\"clean_colvals\",\"hpp_tab\",\"installed_pkg\",\"lotr_study_hash\",\"scale_match\",\"study_id\"],\"label\":[\"assert_unmatched_studies_unique\",\"class_check_gs\",\"classifiers\",\"drug_names_unlabelled\",\"export_condition\",\"metapar\",\"metapar_consult\",\"metapar_original_study\",\"model_key\",\"model_metapar\",\"outcomes\",\"raw_adverse\",\"raw_covidence_export\",\"raw_mood\",\"raw_outcome_dat\",\"raw_pain\",\"scales\",\"scales_raw\",\"study_key\",\"study_key_assert_na\",\"study_lab_metapar\",\"study_na_inspect\",\"unmatched_studies_obs\",\"variables\",\"variables_tab\",\"wo_long\",\"wo_study\",\"wo_wide\",\"wo_scale\",\"wo_scale_matches\",\"scale_match_test\",\"wo_scale_unmatched\",\"obs_post_int\",\"wo_time\",\"obs\",\"obs_ad_post_int\",\"wo_scale_multiple_matches\",\"wo_time_unmatched\",\"clean_colvals\",\"hpp_tab\",\"installed_pkg\",\"lotr_study_hash\",\"scale_match\",\"study_id\"],\"level\":[8,6,1,6,3,5,2,3,1,6,2,1,1,1,2,1,2,1,5,6,4,6,7,1,2,7,6,8,11,10,10,11,13,9,12,14,11,10,1,1,0,0,1,1],\"color\":[\"#C93312\",\"#354823\",\"#354823\",\"#354823\",\"#354823\",\"#354823\",\"#354823\",\"#354823\",\"#354823\",\"#354823\",\"#354823\",\"#354823\",\"#354823\",\"#354823\",\"#354823\",\"#354823\",\"#354823\",\"#354823\",\"#354823\",\"#354823\",\"#354823\",\"#354823\",\"#354823\",\"#354823\",\"#354823\",\"#354823\",\"#354823\",\"#78B7C5\",\"#78B7C5\",\"#78B7C5\",\"#78B7C5\",\"#78B7C5\",\"#78B7C5\",\"#78B7C5\",\"#78B7C5\",\"#78B7C5\",\"#78B7C5\",\"#78B7C5\",\"#354823\",\"#354823\",\"#354823\",\"#354823\",\"#354823\",\"#354823\"],\"shape\":[\"dot\",\"dot\",\"dot\",\"dot\",\"dot\",\"dot\",\"dot\",\"dot\",\"dot\",\"dot\",\"dot\",\"dot\",\"dot\",\"dot\",\"dot\",\"dot\",\"dot\",\"dot\",\"dot\",\"dot\",\"dot\",\"dot\",\"dot\",\"dot\",\"dot\",\"square\",\"square\",\"dot\",\"dot\",\"dot\",\"dot\",\"dot\",\"dot\",\"dot\",\"dot\",\"dot\",\"dot\",\"dot\",\"triangle\",\"triangle\",\"triangleDown\",\"triangle\",\"triangle\",\"triangle\"]},\"edges\":{\"from\":[\"scale_match\",\"scales\",\"wo_time\",\"raw_covidence_export\",\"wo_scale_matches\",\"raw_adverse\",\"raw_mood\",\"raw_pain\",\"study_key\",\"metapar\",\"metapar_original_study\",\"wo_study\",\"obs\",\"study_lab_metapar\",\"metapar_original_study\",\"study_id\",\"metapar\",\"obs_post_int\",\"model_key\",\"wo_scale\",\"wo_wide\",\"classifiers\",\"metapar_consult\",\"wo_time\",\"study_lab_metapar\",\"study_key\",\"clean_colvals\",\"scales_raw\",\"outcomes\",\"raw_outcome_dat\",\"study_key\",\"wo_scale_matches\",\"metapar\",\"outcomes\",\"metapar_consult\",\"wo_study\",\"scale_match\",\"scales\",\"wo_time\",\"hpp_tab\",\"variables\",\"metapar\",\"unmatched_studies_obs\",\"wo_long\",\"wo_scale_matches\"],\"to\":[\"wo_scale_matches\",\"wo_scale_matches\",\"wo_scale_matches\",\"metapar_consult\",\"wo_scale\",\"raw_outcome_dat\",\"raw_outcome_dat\",\"raw_outcome_dat\",\"study_na_inspect\",\"drug_names_unlabelled\",\"unmatched_studies_obs\",\"unmatched_studies_obs\",\"obs_post_int\",\"study_key\",\"study_lab_metapar\",\"study_lab_metapar\",\"obs_ad_post_int\",\"obs_ad_post_int\",\"outcomes\",\"obs\",\"wo_time\",\"metapar_original_study\",\"metapar_original_study\",\"wo_time_unmatched\",\"metapar\",\"study_key_assert_na\",\"scales\",\"scales\",\"wo_study\",\"wo_study\",\"wo_study\",\"wo_scale_multiple_matches\",\"model_metapar\",\"model_metapar\",\"export_condition\",\"wo_long\",\"scale_match_test\",\"scale_match_test\",\"scale_match_test\",\"variables_tab\",\"variables_tab\",\"class_check_gs\",\"assert_unmatched_studies_unique\",\"wo_wide\",\"wo_scale_unmatched\"],\"arrows\":[\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\"]},\"nodesToDataframe\":true,\"edgesToDataframe\":true,\"options\":{\"width\":\"100%\",\"height\":\"100%\",\"nodes\":{\"shape\":\"dot\",\"physics\":false},\"manipulation\":{\"enabled\":false},\"edges\":{\"smooth\":{\"type\":\"cubicBezier\",\"forceDirection\":\"horizontal\"}},\"physics\":{\"stabilization\":false},\"layout\":{\"hierarchical\":{\"enabled\":true,\"direction\":\"LR\"}}},\"groups\":null,\"width\":null,\"height\":null,\"idselection\":{\"enabled\":false,\"style\":\"width: 150px; height: 26px\",\"useLabels\":true,\"main\":\"Select by id\"},\"byselection\":{\"enabled\":false,\"style\":\"width: 150px; height: 26px\",\"multiple\":false,\"hideColor\":\"rgba(200,200,200,0.5)\",\"highlight\":false},\"main\":{\"text\":\"\",\"style\":\"font-family:Georgia, Times New Roman, Times, serif;font-weight:bold;font-size:20px;text-align:center;\"},\"submain\":null,\"footer\":null,\"background\":\"rgba(0, 0, 0, 0)\",\"highlight\":{\"enabled\":false,\"hoverNearest\":false,\"degree\":1,\"algorithm\":\"all\",\"hideColor\":\"rgba(200,200,200,0.5)\",\"labelOnly\":true},\"collapse\":{\"enabled\":true,\"fit\":false,\"resetHighlight\":true,\"clusterOptions\":null,\"keepCoord\":true,\"labelSuffix\":\"(cluster)\"},\"legend\":{\"width\":0.2,\"useGroups\":false,\"position\":\"right\",\"ncol\":1,\"stepX\":100,\"stepY\":100,\"zoom\":true,\"nodes\":{\"label\":[\"Errored\",\"Up to date\",\"Outdated\",\"Stem\",\"Pattern\",\"Function\",\"Object\"],\"color\":[\"#C93312\",\"#354823\",\"#78B7C5\",\"#899DA4\",\"#899DA4\",\"#899DA4\",\"#899DA4\"],\"shape\":[\"dot\",\"dot\",\"dot\",\"dot\",\"square\",\"triangle\",\"triangleDown\"]},\"nodesToDataframe\":true}},\"evals\":[],\"jsHooks\":[]}\n\n\n# inspect an element called metapar\ntar_read(metapar)\n\n\n# A tibble: 459 x 10\n   study  arm    type  class name  main_aim condition general_grouping\n   <glue> <chr>  <chr> <chr> <chr> <chr>    <chr>     <chr>           \n 1 keski… gabap… anti… <NA>  gaba… pain     neuropat… neuropathic     \n 2 keski… amitr… anti… tca   amit… pain     neuropat… neuropathic     \n 3 nct 2… benzt… acti… <NA>  benz… pain     temporom… orofacial pain  \n 4 nct 2… nortr… anti… tca   nort… pain     temporom… orofacial pain  \n 5 nct 2… benzt… acti… <NA>  benz… pain     temporom… orofacial pain  \n 6 nct 2… nortr… anti… tca   nort… pain     temporom… orofacial pain  \n 7 lee 2… place… plac… <NA>  plac… pain     chest pa… other           \n 8 lee 2… venla… anti… snri  venl… pain     chest pa… other           \n 9 dsrhv… contr… wait… <NA>  cont… pain     temporom… orofacial pain  \n10 dsrhv… amitr… anti… tca   amit… pain     temporom… orofacial pain  \n# … with 449 more rows, and 2 more variables:\n#   iasp_classification <chr>, study_arm <glue>\n\n\n\n# load metapar into the environment\ntar_load(metapar)\n\n\n\n\n\n\n",
      "last_modified": "2021-05-18T07:39:33+01:00"
    },
    {
      "path": "index.html",
      "title": "hpp",
      "description": "overview\n",
      "author": [],
      "contents": "\n\n\n\n\n\n\ndefinitions\nchronic pain := > 3 months\nprimary pain := cause unknown; eg. lower back pain\nsecondary pain := cause known; eg. arthritis\noutcomes\nWhat we said we said we’d investigate (Birkinshaw et al. 2021):\nPrimary outcomes\nSubstantial pain relief: at least 50% reduction in pain intensity from baseline, irrespective of pain measurement method (e.g. visual analogue scale, numerical rating scale).\nMood (continuous data, e.g. visual analogue scale or validated measures such as the Hospital Anxiety and Depression Scale).\nNumber and percentage of participants reporting adverse events (reported adverse events and serious adverse events).\nSecondary outcomes\nModerate pain relief: at least 30% reduction in pain intensity from baseline.\nPatient Global Impression of Change (PGIC): moderate (much or very much improved) and substantial (very much improved).\nWithdrawal (measured by the proportion of participants (number and percentage of total and per arm) withdrawing for any reason).\nPhysical functioning (includes measures of physical movement and disability; measured by any validated scale).\nSleep quality (includes insomnia, restfulness, etc.; measured by any validated scale, e.g. Jenkins Sleep Scale).\nQuality of life (measured by any validated scale).\nModerators and subgroups\ntype of drug: SSRI\nchronic pain condition\ndosage\nCurrently included outcomes\n\n\n\nchronic pain conditions\n\nQuestion for Hollie: Does this visualisation go with why you thought it was useful to have the total number of studies collected, regardless of outcome, as wells as the the outcome come for each condition? What would make it more informative?\n\n\n\n\n\n\n\nWe might also, wish to consider the number of studies collected for each condition and outcome in relation to the total number of studies collected for the condition.\nThat is… example\n\n\n\ntype\n\n\n\nclass\n\n\n\ntimeframes\n\nWe will compare antidepressants to the comparators immediately post‐treatment, at short‐term follow‐up (12 weeks or less) and long‐term follow up (over 12 weeks). Where studies include multiple follow‐up time points, we will take the most recent time point within each period. If multiple measures are used, then we will extract from the most valid, reliable and widely used measure in the field (Birkinshaw et al. 2021).\n\ntimepoint\ndefinition\npost-treatment\npost intervention\nshort-term follow up\n12 weeks or less\nlong-term follow up\nover 12 weeks\nVery few follow-ups:\n\n\n\ncross over vs parallel\n\n\n\nBirkinshaw, Hollie, Claire Friedrich, Peter Cole, Christopher Eccleston, Marc Serfaty, Gavin Stewart, Simon White, R. Andrew Moore, and Tamar Pincus. 2021. “Antidepressants for Pain Management in Adults with Chronic Pain: A Network Meta-Analysis.” Cochrane Database of Systematic Reviews, no. 4. https://doi.org/10.1002/14651858.CD014682.\n\n\n\n\n",
      "last_modified": "2021-05-18T07:39:48+01:00"
    },
    {
      "path": "simulation.html",
      "title": "simulations",
      "author": [],
      "date": "`r Sys.Date()`",
      "contents": "\n\n\nlibrary(targets)\nlibrary(tidyverse)\nlibrary(glue)\nlibrary(gt)\nlibrary(googlesheets4)\n\n\nlibrary(happypillpain)\n\n# ugh whyeee\nsource(\"R/hpp_themes.R\")\n\n\n\n\n\n# run simulation pipeline\nwithr::with_dir(here::here(\"simulation\"), {\n  tar_make()\n  \n  tar_load(check_wd)\n  tar_load(sim_pairwise)\n})\n\n\n✓ skip target set_var\n✓ skip target sim_pairwise\n✓ skip target check_wd\n✓ skip target n_obs\n✓ skip pipeline\n\n# and from the general\ntar_load(variables_tab)\n\n\n\n\n\n# check we're in the simulations directory\ncheck_wd\n\n\n[1] TRUE\n\nOur goal is to create a dataset that imitates the kind of data we will encounter in the cleaned Covidence extract. The cleaning is such a substantial job, I think it useful to simulate a manageable dataset to play around with model subgroups and visualisations.\nGiven the number of studies involved, and the number of treatments, it’s likely we will need to create several customaised visualisations and summaries.\nOff the top of my head, we have\ntime points: follow-ups short and long, post-intervention,\ncomparisons: antidepressant vs placebo, etc.\nclass of drug\nchronic pain condition\noutcome\n\nugh sort out type and class, what does the protocol say?\n\nFor now, I will use this table as my guide.\n\n\nvariables_tab\n\n\nhtml {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#bycotymmsu .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#bycotymmsu .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#bycotymmsu .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#bycotymmsu .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 4px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#bycotymmsu .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#bycotymmsu .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#bycotymmsu .gt_col_heading {\n  color: #333333;\n  background-color: #ecf2f8;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#bycotymmsu .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #ecf2f8;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#bycotymmsu .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#bycotymmsu .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#bycotymmsu .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#bycotymmsu .gt_group_heading {\n  padding: 8px;\n  color: #333333;\n  background-color: #d9e6f2;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#bycotymmsu .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #d9e6f2;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#bycotymmsu .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#bycotymmsu .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#bycotymmsu .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#bycotymmsu .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 12px;\n}\n\n#bycotymmsu .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#bycotymmsu .gt_first_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n}\n\n#bycotymmsu .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#bycotymmsu .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#bycotymmsu .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#bycotymmsu .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#bycotymmsu .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#bycotymmsu .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding: 4px;\n}\n\n#bycotymmsu .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#bycotymmsu .gt_sourcenote {\n  font-size: 90%;\n  padding: 4px;\n}\n\n#bycotymmsu .gt_left {\n  text-align: left;\n}\n\n#bycotymmsu .gt_center {\n  text-align: center;\n}\n\n#bycotymmsu .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#bycotymmsu .gt_font_normal {\n  font-weight: normal;\n}\n\n#bycotymmsu .gt_font_bold {\n  font-weight: bold;\n}\n\n#bycotymmsu .gt_font_italic {\n  font-style: italic;\n}\n\n#bycotymmsu .gt_super {\n  font-size: 65%;\n}\n\n#bycotymmsu .gt_footnote_marks {\n  font-style: italic;\n  font-size: 65%;\n}\nVariable\n      Description\n      Covidence\n    model\n    study\n\n      Unique identifier for study; comments contains title, study identifier is first author and year\n      Study Identifier + Comments\n\n    name\n\n      Name of intervention drug: e.g., Desvenlafaxin\n      Intervention Name\n\n    filter\n    timepoint\n\n      Short-term follow up, baseline, long-term follow up, post-intervention; atm the other time points are filtered out and just postintervention is going through to the anlaysis\n      obs header\n\n    scale\n\n      We searched the column headers for names of scales (such as vas)\n      obs header\n\n    type\n\n      Type of intervention: e.g., antidepressant, placebo, CBT\n      Intervention Type\n\n    design\n\n      crossover or parallel; for now we filter parallel not crossover\n      Group\n\n    subgroup\n    condition\n\n      Condition of pain in the study, such as lower back pain. NB condition can be tagged in multiple ways, see condition classifier gs. In particular prioritise general_grouping as the condition variable.\ntemporomandibular disorder\n      Chronic pain condition(s)\n\n    class\n\n      Class of antidepressant: e.g. SNRI; this variable only applies to antidepressant\n      Intervention Class\n\n    main_aim\n\n      Primary aim of the original study: e.g., pain, mood, etc.\n      Main aim (Pain, mood, quality of life etc)\n\n    \n\nfilters\nWe will assume\ntimepoint is post intervention\nscale filters have not been applied (because Charles need to think about how to code this)\ntype of interventions considered are antidepressants vs placebo\nSo, we will need to add these as columns to the observations. Some outcomes are measured dichotomously and some outcomes are measured continuously. So, for one outcome, for the filters above, we have:\n\n\nn_obs <- 5\n\n# need to create a few set up tables\n\n# scale is associated with drug\ndrugs <- \n  tibble(\n    drug = 1:3,\n    scale = sample(1:2, 3, replace = TRUE)\n  ) \n\n# \n\n# study and name of drug\n  tibble(\n  drug = sample(drugs$drug, n_obs, replace = TRUE)\n) %>% \n    left_join(drugs, by = \"drug\") %>% \n  mutate(\n      name = glue(\"drug_{drug}\"),\n    row = row_number(),\n  study = glue(\"study_{row}\")\n  ) %>% \n  select(-drug, -row) %>% \n    mutate(\n      timepoint = \"post_int\",\n      type = \"antidepressant\"\n    )\n\n\n# A tibble: 5 x 5\n  scale name   study   timepoint type          \n  <int> <glue> <glue>  <chr>     <chr>         \n1     1 drug_2 study_1 post_int  antidepressant\n2     2 drug_3 study_2 post_int  antidepressant\n3     1 drug_1 study_3 post_int  antidepressant\n4     1 drug_1 study_4 post_int  antidepressant\n5     2 drug_3 study_5 post_int  antidepressant\n\nmodel\npairwise\nIn pairwise, we model, for the \\(i\\)th study, we assume the observed difference between placebo and intervention \\(d_i\\) can be thought of in terms of some true difference \\(\\delta\\) and a random effect \\(\\delta_i \\sim \\text{normal}(0, \\tau)\\) associated with the specific conditions of the difference \\(d_i\\) in the \\(i\\)th study,\n\\[\nd_i = \\delta + \\delta_i + \\varepsilon_i, \n\\] with \\(\\varepsilon_i \\sim \\text{normal}(0, \\sigma_i^2)\\), some sampling error.\nSo, then\n$$\n\\[\\begin{cases}\n\nd_i \\sim \\text{normal}(\\delta_i, \\sigma_i^2)\\\\\n\\delta_i \\sim \\text{normal}(\\delta, \\tau) \n\n\\end{cases}\\]\n$$ (I think, I’m still getting my head around this notation.)\n\n\n\nnetwork meta-analysis model\nOne of the questions I’m trying to answer is which model multinma:: uses.\n\n\n\n",
      "last_modified": "2021-05-17T20:19:19+01:00"
    },
    {
      "path": "template-outcome.html",
      "title": "outcome analysis",
      "description": "Within-outcome analysis \n",
      "author": [],
      "date": "`r Sys.Date()`",
      "contents": "\n\nContents\nnma\nparameterised report\n\nstructure of analysis\nsimulation parameters\nrandom effects models\ncipriani-style all-in\nsubgroup analyses\ncondition [general grouping]\ntype [SSRI]\ncomparisons\n\n\npairwise\n\n\n\n\n\n\n\nnma\nWe will provide a network meta-analysis (NMA) for each outcome, which adheres to Cochrane’s MECIR (Higgins et al. 2016) standards for reporting network meta-analyses, in particular, this entails ensuring we meet the thirty-two requirements in the extended PRISMA checklist for network meta-analysis (Hutton et al. 2015).\nparameterised report\nThis page is a parameterised report. Each analysis, for each outcome, requires a number of standardised reporting procedures, that is, tables and visual summaries of statistical results and exploratory data analysis. This page is an automatically-generated report for the outcome producing standardised analyses for a specific outcomes.\nWhen we get closer to publication, we may wish to do outcome-specific analyses in addition to the standardised analyses presented in the parameterised reports.\nThis is the automatically-generated parameterised report for the outcome: mood.\nstructure of analysis\n\n\n# need table of variables here\n\n\n\nsimulation parameters\n\n\n# model parameters: subgroups, etc.\n# filter model table\n\n\n\nrandom effects models\ncipriani-style all-in\nsubgroup analyses\ncondition [general grouping]\ntype [SSRI]\ncomparisons\npairwise\n\n\n\nHiggins, JPT, T Lasserson, J Chandler, D Tovey, R Churchill, and others. 2016. Methodological Expectations of Cochrane Intervention Reviews. Vol. 5.\n\n\nHutton, Brian, Georgia Salanti, Deborah M. Caldwell, Anna Chaimani, Christopher H. Schmid, Chris Cameron, John P.A. Ioannidis, et al. 2015. “The PRISMA Extension Statement for Reporting of Systematic Reviews Incorporating Network Meta-Analyses of Health Care Interventions: Checklist and Explanations.” Annals of Internal Medicine 162 (11): 777–84. https://doi.org/10.7326/M14-2385.\n\n\n\n\n",
      "last_modified": "2021-05-18T07:39:48+01:00"
    }
  ],
  "collections": []
}
